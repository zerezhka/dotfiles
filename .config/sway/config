set $mod Mod4

font pango:Iosevka 10

floating_modifier $mod

seat seat0 xcursor_theme default

input type:keyboard {
    xkb_layout us,ru
    xkb_options grp:alt_shift_toggle
}

# Dual monitor setup - side by side
output HDMI-A-2 mode 1920x1080@60Hz position 0,0
output HDMI-A-1 mode 1920x1080@60Hz position 1920,0

# Assign workspaces to monitors
workspace 1 output HDMI-A-2
workspace 2 output HDMI-A-2
workspace 3 output HDMI-A-2
workspace 4 output HDMI-A-2
workspace 5 output HDMI-A-2
workspace 6 output HDMI-A-1
workspace 7 output HDMI-A-1
workspace 8 output HDMI-A-1
workspace 9 output HDMI-A-1
workspace 10 output HDMI-A-1

# Update systemd and dbus environment for apps launched via systemd or dbus
exec dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP=sway BROWSER=chromium PATH
exec systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP BROWSER PATH

exec_always swaybg -m fill -i /usr/share/backgrounds/xfce/red_moon_penger.jpg

bindsym $mod+Return exec alacritty

bindsym --to-code $mod+Shift+q kill

bindsym --to-code $mod+d exec rofi -show drun

# Clipboard history viewer
bindsym $mod+c exec cliphist list | rofi -dmenu | cliphist decode | wl-copy

bindsym $mod+Shift+s exec sh -c 'grim -g "$(slurp)" - | wl-copy && notify-send "Screenshot saved to clipboard"'

bindsym --to-code $mod+j focus left
bindsym --to-code $mod+k focus down
bindsym --to-code $mod+l focus up
bindsym --to-code $mod+semicolon focus right

bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym --to-code $mod+Shift+j move left
bindsym --to-code $mod+Shift+k move down
bindsym --to-code $mod+Shift+semicolon move right

bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

bindsym --to-code $mod+h split h

bindsym --to-code $mod+v split v

bindsym --to-code $mod+f fullscreen toggle

bindsym --to-code $mod+w layout tabbed
bindsym --to-code $mod+e layout toggle split

bindsym $mod+Shift+space floating toggle

bindsym $mod+space focus mode_toggle

bindsym --to-code $mod+a focus parent

bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

bindsym --to-code $mod+Shift+c reload

bindsym --to-code $mod+Shift+r reload

bindsym --to-code $mod+Shift+e exec "~/.config/sway/scripts/dmenu-logout.sh"

mode "resize" {
    bindsym --to-code j resize shrink width 10 px or 10 ppt
    bindsym --to-code k resize grow height 10 px or 10 ppt
    bindsym --to-code l resize shrink height 10 px or 10 ppt
    bindsym --to-code semicolon resize grow width 10 px or 10 ppt

    bindsym Left resize shrink width 10 px or 10 ppt
    bindsym Down resize grow height 10 px or 10 ppt
    bindsym Up resize shrink height 10 px or 10 ppt
    bindsym Right resize grow width 10 px or 10 ppt

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

bindsym --to-code $mod+r mode "resize"

bar {
    status_command i3status-rs ~/.config/i3status-rust/config-sway.toml
    position top
    tray_output primary
    font pango:Iosevka Nerd Font 14
    colors {
        background #073642
    }
}

bindsym $mod+Shift+l exec swaylock

exec swayidle -w timeout 300 swaylock timeout 600 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"' before-sleep swaylock

focus_follows_mouse no

hide_edge_borders both

exec dunst

# Clipboard manager - persist clipboard content
exec_always sh -c 'pkill -f "wl-paste.*cliphist" 2>/dev/null; wl-paste --type text --watch cliphist store'
exec_always sh -c 'pkill -f "wl-paste.*cliphist" 2>/dev/null; wl-paste --type image --watch cliphist store'

bindsym XF86MonBrightnessUp exec ~/.config/sway/scripts/show_notification.sh brightness +10%
bindsym XF86MonBrightnessDown exec ~/.config/sway/scripts/show_notification.sh brightness 10%-

bindsym XF86AudioRaiseVolume exec ~/.config/sway/scripts/show_notification.sh volume +5%
bindsym XF86AudioLowerVolume exec ~/.config/sway/scripts/show_notification.sh volume -5%
bindsym XF86AudioMute exec ~/.config/sway/scripts/show_notification.sh volume --toggle

